{% extends "templates/base.html" %}
{% block content %}
    <div id="tester" style="width:1100px;height:450px;"></div>
    <script>
	    TESTER = document.getElementById('tester');
	    var scrambledStatements = getCookie('statement');
	    var statements = JSON.parse(scrambledStatements);
	    var months = [];
	    var amounts = [];
	    statements.forEach(function(s){
	        if(s.month.toString().length === 1){
	            months.push(s.year + '-' + '0' + s.month + '-' + '01');
	        }else{
	            months.push(s.year + '-' + s.month + '-' + '01');
	        }
	        amounts.push(s.amount);
	    });
	    layout.xaxis.type = 'date';
	    Plotly.plot( TESTER, [{
	        x: months,
	        y: amounts }], layout );
    </script>
{% endblock %}